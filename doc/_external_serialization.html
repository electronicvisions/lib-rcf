
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Remote Call Framework (RCF) - Delta V Software</title>
    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <!-- JL: Using timestamp here to prevent css file from being cached -->
    <link href="../css/website.css?<?php echo time(); ?>" rel="stylesheet" />
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygenBase.css" rel="stylesheet" type="text/css" />
    <link href="doxyStylesheet.css" rel="stylesheet" type="text/css"/>
<link href="doxySidebarFixes.css" rel="stylesheet" type="text/css"/>
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" />
    <script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body style="padding-top: 0px">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light navbar-fixed-top" style="top: 20px;">
        <!-- <nav class="navbar navbar-expand-lg fixed-top"> -->
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="RCF_Logo_70px.png" height="70" /> </img></a>
            <!--
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item" style="padding-top: 0px;">
                        <a class="nav-link" href="../index.html"><i class="fa fa-home"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../download.html">Download</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../licensing.html">Licensing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../contact.html">Contact</a>
                    </li>
                </ul>
            </div>
                -->
        </div>
    </nav>
        <div class="container">
        <div class="row">
            <div class="col-lg-12">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Remote Call Framework 3.1
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_external_serialization.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">External Serialization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Protobufs">Protocol Buffers</a><ul><li class="level2"><a href="#ProtobufSerialization">Protocol Buffer Classes</a></li>
<li class="level2"><a href="#ProtobufCaching">Protocol Buffer Caching</a></li>
</ul>
</li>
<li class="level1"><a href="#BSer">Boost.Serialization</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="Protobufs"></a>
Protocol Buffers</h1>
<p><a href="https://github.com/google/protobuf">Protocol Buffers</a> is an open source project released by <a href="http://www.google.com">Google</a>, which uses a specialized language to define serialization schemas, from which actual serialization code is generated. The official Protocol Buffers compiler can generate code in a number of languages, including C++, C#, Java and Python.</p>
<h2><a class="anchor" id="ProtobufSerialization"></a>
Protocol Buffer Classes</h2>
<p>RCF provides native marshaling support for classes generated by the Protocol Buffers compiler. To enable this support, define <code>RCF_FEATURE_PROTOBUF=1</code> when building RCF. With <code>RCF_USE_PROTOBUF=1</code> defined, classes produced by the Protocol Buffers compiler, can be used directly in RCF interface declarations, and will be serialized and deserialized using the Protocol Buffer runtime.</p>
<p>For more information on building RCF with Protocol Buffer support, see <a class="el" href="_building_r_c_f.html">Building RCF</a>.</p>
<p>As an example, consider this .proto file.</p>
<div class="fragment"><div class="line">// Person.proto</div><div class="line"></div><div class="line">message Person {</div><div class="line">  int32 id = 1;</div><div class="line">  string name = 2;</div><div class="line">  string email = 3;</div><div class="line">}</div></div><!-- fragment --><p>Running the Protocol Buffer compiler (in C++ mode) over <code>Person.proto</code> results in the two files <code>Person.pb.h</code> and <code>Person.pb.cc</code>, containing the implementation of the C++ class <code>Person</code>.</p>
<div class="fragment"><div class="line">// Person.pb.h</div><div class="line"></div><div class="line">class Person : public ::google::protobuf::Message {</div><div class="line">// ...</div><div class="line">}</div></div><!-- fragment --><p>You can now include <code>Person.pb.h</code> in your program, and use the class <code>Person</code> in an RCF interface. RCF will detect that the <code>Person</code> class is a Protocol Buffer class, and will use Protocol Buffer functions to serialize and deserialize <code>Person</code> instances.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;RCF/../../test/protobuf/messages/cpp/Person.pb.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span>{ </div><div class="line"></div><div class="line">RCF_BEGIN(I_X, <span class="stringliteral">&quot;I_X&quot;</span>)</div><div class="line">    RCF_METHOD_R1(Person, Echo, const Person &amp;)</div><div class="line">RCF_END(I_X)</div></div><!-- fragment --><p> Protocol Buffer classes can be used together with native C++ classes, in RCF interfaces:</p>
<div class="fragment"><div class="line">    RCF_BEGIN(I_X, <span class="stringliteral">&quot;I_X&quot;</span>)</div><div class="line">        RCF_METHOD_R1(Person, Echo, const Person &amp;)</div><div class="line">        RCF_METHOD_V4(<span class="keywordtype">void</span> , SomeOtherMethod, <span class="keywordtype">int</span>, const std::vector&lt;std::<span class="keywordtype">string</span>&gt; &amp;, Person &amp;, <a class="code" href="namespace_r_c_f.html">RCF</a>::ByteBuffer)</div><div class="line">    RCF_END(I_X)</div></div><!-- fragment --> <h2><a class="anchor" id="ProtobufCaching"></a>
Protocol Buffer Caching</h2>
<p>The serialization and deserialization code generated by Protocol Buffers is highly optimized. However, to make the most of this performance, you may want to cache and reuse Protocol Buffer objects from call to call, rather than creating new ones. Protocol Buffer objects are designed to retain any memory they allocate, and will reuse that memory in subsequent serialization and deserialization operations.</p>
<p>RCF provides <a class="el" href="_performance.html#Caching">server-side object caching</a>, for this purpose. Here is an example of enabling server-side caching of <code>Person</code> objects:</p>
<div class="fragment"><div class="line">    <a class="code" href="class_r_c_f_1_1_object_pool.html">RCF::ObjectPool</a> &amp; cache = RCF::getObjectPool();</div><div class="line"></div><div class="line">    <span class="comment">// Enable server-side caching for Person.</span></div><div class="line">    <span class="comment">// * Don&#39;t cache more than 10 Person objects.</span></div><div class="line">    <span class="comment">// * Call Person::Clear() before putting a Person object into the cache.</span></div><div class="line">    <span class="keyword">auto</span> clearPerson = [](Person * pPerson) { pPerson-&gt;Clear();  };</div><div class="line">    cache.<a class="code" href="class_r_c_f_1_1_object_pool.html#ab0729ea93ed136d2a991a8f7076c235e">enableCaching</a>&lt;Person&gt;(10, clearPerson);</div></div><!-- fragment --> <h1><a class="anchor" id="BSer"></a>
Boost.Serialization</h1>
<p>Past versions of RCF supported the usage of <a href="http://www.boost.org/libs/serialization">Boost.Serialization</a> , as a drop in replacement for RCF's internal serialization framework.</p>
<p><b>As of RCF 3.0, however, usage of Boost.Serialization is deprecated.</b></p>
<p>Support for Boost.Serialization will be removed from the codebase in a future release. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <!--  -->
    <li class="footer">Copyright (C) <a href="http://www.deltavsoft.com">Delta V Software</a> 2019</li>
    <!-- <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li> -->
  </ul>
</div>
                            </div>
        </div>
    </div>
</body>
</html>
